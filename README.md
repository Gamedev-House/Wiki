# «Башня» механики

## Перемещение игрока
Игрок находится в центре башни и может взаимодействовать с окружением.

## Перемещение персонажа
Персонаж перемещается по пути до точки, которую укажет игрок (как в RTS играх). Путь должен находиться через NavMesh/A*/аналогичный алгоритм. Возможности перемещения: бег в сторону, прыжок, вскарабкивание на уступ/лестницу/веревку.

## Магия
- Игрок в VR может влиять на окружение, в котором находится игровой персонаж.
- Магия – опциональный, но важный элемент. Персонаж может пройти секцию с минимальным использованием взаимодействия на окружение, но тогда не сможет найти все сокровища, тайные проходы и т д. По итогу каждая секция будет проходиться сложнее и наград игрок получать будет меньше.
- Каждое взаимодействие тратит заряд магии, что создает лимит на кол-во помощи персонажу за раз.

 Предлагаю несколько вариантов, которые позволят восстанавливать заряды магии: 
* После каждой секции персонаж доходит до статуи, где может помолиться и восстановить шкалу заряда магии, где как раз и будет задаваться новый лимит на кол-во использований магии в следующей секции.
* Собирать светоч. Игроку нужно провести персонажа таким образом, чтобы он смог пройти секцию и собрать на ней светоч – святящиеся шары магии, которые восстанавливают по ячейкам шкалу магии. Если пройти уровень не идеально, то на следующей секции будет меньше зарядов, которые смогут помочь персонажу.

## VR и окружение
**Движущиеся предметы** – предметы, которые с помощью контроллера можно передвигать в пространстве и влиять на окружение. Зажимая курок на контроллере, объект подхватывается и движется на контроллером будто его двигает телекинез. Такой механикой можно сбрасывать ящики и ставить их на кнопки, которые открывают проход. 

**Заряд импульса** - механика, которая позволяет толкать предметы, разбивать препятствия, открывать огромные сундуки. Принцип работы очень прост. При попадании рейкаста на активный предмет, мы зажимаем кнопку Grip(опционально) и держим ее до момента, пока не появится яркое свечение с характерным звуком, подчеркивающее заряд магии. Как только мы услышим звук и увидим свечение, нужно отпустить кнопку и запустится импульс, который сломает стену, разобьет сундук или сбросит цепь, по которой может залезть персонаж.

**Платформы** - это объекты, которые двигаются по вертикали, диагонали и горизонтали. У платформ есть лимит хода, потому что они являются частью механизмов в замке. Для передвижения платформы, нужно схватиться рукой за платформу и двигать по оси объекта. Все платформы имеют лок по оси и игрок не сможет двигать платформу, по вертикали, если механизм платформы подразумевает движение по горизонтали.

**Хаотичные платформы** - это платформы, которые имеют нулевую гравитацию и их можно двигать в пространстве по X и Y позициям. Расставляя эти платформы в пространстве, игроку нужно учитывать как далеко может прыгать его персонаж, чтобы была возможность пройти платфоминг часть из собранных вручную платформ.
Пример: персонаж попадает в зону с магической энергией и в этой зоне часть замка разрушена, элементы замка имеют нулевую гравитацию и висят в пространстве. Задача игрока расставить элементы так, чтобы игрок смог пройти нулевую магическую зону из точки А в точку Б.

**Рычаги** - Объекты в виде рычага, которые можно дергать VR-рукой. Данная механика может быт работать в 2 режимах: 
1) Опускаем рычаг и он остается в новом положении. После взаимодействия происходит событие. 
Пример: Открывается дверь и остается в открытом состоянии.
2) Рычаг, которые не фиксируется в новом положении и на него нужно постоянное воздействие VR-рукой. Такую механику можно комбинировать с механикой "Движущиеся предметы" и "Заряд импульса". 
Пример: Игрок опускает рычаг, но когда персонаж начинает бежать, рычаг возвращается в исходное состояние и дверь закрывается, путь опять закрыт. Для решения простенькой головоломки, игроку нужно воспользоваться двумя руками и после опускание рычага одной рукой, подставить под открытую дверь объект, который будет исполнять роль подпорки и не давать двери закрыться.

# Полезные материалы
Здесь собраны полезные обучающие и не только материалы, которые необходимо изучить (пополняется)
- [Кодстайл, которого нужно придерживаться](https://github.com/raywenderlich/c-sharp-style-guide)
- [Документация Git](https://git-scm.com/)
- [Документация Unity](https://docs.unity3d.com/Manual/index.html)
- [Документация New Input System](https://docs.unity3d.com/Packages/com.unity.inputsystem@1.0/manual/)
- [Документация ProBuilder](https://docs.unity3d.com/Packages/com.unity.probuilder@5.0/manual)
- [Моя старая группа в ТГ с кучей полезного](https://t.me/road_to_gamedev)
Ассеты, которые мы используем
- [Unity Atoms](https://unity-atoms.github.io/unity-atoms/)
- Каналы с VR тематикой: [ValemVR](https://www.youtube.com/c/ValemVR), [JustinPBarnett](https://www.youtube.com/c/JustinPBarnett), [VRwithAndrew](https://www.youtube.com/c/VRwithAndrew), [DilmerV](https://www.youtube.com/c/DilmerV)
